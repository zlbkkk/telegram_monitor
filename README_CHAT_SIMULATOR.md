# Telegram 群组聊天模拟器

这是一个强大的Telegram群组聊天模拟工具，可以监控一个或多个源群组的消息，并以多个不同用户的身份转发到目标群组，创造真实的多人聊天氛围。

## 主要功能

- **多用户模拟**: 自动生成多个虚拟用户，每条消息随机以不同用户身份发送
- **群组消息监控**: 实时捕获源群组的所有消息
- **原生消息体验**: 消息以原创方式发送，而非转发，避免显示"Forwarded from"标记
- **媒体内容支持**: 完整支持图片、视频、文件等媒体内容
- **链接处理**: 自动将消息中的URL转换为可点击的链接
- **用户身份定制**: 随机生成中文姓名、职业和表情符号
- **自动加入群组**: 支持通过链接或ID自动加入源群组

## 使用方法

### 1. 配置.env文件

编辑`.env`文件，添加或修改以下配置项：

```
# 群组聊天模拟器配置
SOURCE_GROUPS=群组1链接,群组2链接        # 要监控的群组ID或链接，多个用逗号分隔
DESTINATION_GROUP=目标群组ID或链接       # 发送模拟消息的目标群组ID或链接
MAX_USERS=20                          # 模拟的用户数量
USERS_FILE=fake_users.json            # 模拟用户数据文件路径
```

### 2. 启动程序

有两种启动方式：

**单独启动群组聊天模拟器**:
```
python group_chat_simulator.py
```

**同时启动频道转发和群组聊天模拟**:
```
python start_all.py
```

### 3. 首次登录

首次运行时，程序会要求您登录Telegram账号：
- 输入您的手机号码(包含国家代码，如+86xxxxxxxxxxx)
- 输入Telegram发送给您的验证码
- 如果开启了两步验证，还需要输入您的密码

登录成功后，程序会自动保存会话信息，后续运行不需要重新登录。

## 模拟用户说明

程序会自动生成`fake_users.json`文件，包含随机生成的用户信息：
- 中文姓名（姓+名）
- 随机职业
- 随机表情符号
- 用户颜色
- 用户ID和用户名

每次发送消息时，程序会随机选择一个用户身份，使消息看起来是由不同用户发送的。

## 消息格式示例

转发的消息会以如下格式显示：

```
😊 张小明 (程序员)

这是消息内容...

来自群组: 源群组名称
```

## 支持的群组格式

`SOURCE_GROUPS`和`DESTINATION_GROUP`支持以下格式：

1. **群组ID**: 如`-1001234567890`
2. **公开群组链接**: 如`t.me/groupname`或`https://t.me/groupname`
3. **私有群组邀请链接**: 如`t.me/+ABCDEFG`或`https://t.me/joinchat/ABCDEFG`
4. **私有群组直接链接**: 如`https://t.me/c/1234567890/123`

## 注意事项

1. **账号安全**: 此工具使用您的用户账号，所有操作都以您的名义进行
2. **会话保存**: 登录信息保存在`.env`文件中，请妥善保管
3. **多用户模拟**: 虽然显示为多个用户，但实际上所有消息都由您的账号发送
4. **频率限制**: Telegram可能会限制过于频繁的消息发送，程序添加了随机延迟以减轻这个问题
5. **私有群组**: 要监控私有群组，您必须先加入该群组或提供有效的邀请链接

## 与频道转发功能结合使用

这个工具可以与`advanced_forwarder.py`(频道消息转发工具)同时使用，它们共享相同的配置文件和登录会话。使用`start_all.py`可以同时启动两个功能。 